<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Castoro by davibe</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Castoro</h1>
      <h2 class="project-tagline">A tool to stream local files to chromecast. Device discovery, volume control, seeking support, automatic subtitles loading based on media filename, audio transcoding.</h2>
      <a href="https://github.com/davibe/castoro" class="btn">View on GitHub</a>
      <a href="http://davibe.github.io/castoro-osx/" class="btn">OSX Application</a>
      <!--a href="https://github.com/davibe/castoro/tarball/master" class="btn">Download .tar.gz</a-->
    </section>

    <section class="main-content">
      <h2>
<a id="description" class="anchor" href="#description" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h2>

<p>A tool to cast your local files to chromecast. Device discovery, volume
control, seeking support, automatic subtitles loading based on media filename,
audio transcoding. Experimental user interface is being worked on.</p>

<h2>
<a id="desktop-application" class="anchor" href="#desktop-application" aria-hidden="true"><span class="octicon octicon-link"></span></a>Desktop application</h2>

<p>First binary distribution is now
<a href="http://davibe.github.io/castoro-osx/">available for OSX</a></p>

<h2>
<a id="commandline-tool" class="anchor" href="#commandline-tool" aria-hidden="true"><span class="octicon octicon-link"></span></a>Commandline tool</h2>

<h3>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install</h3>

<p>You can user npm published version</p>

<pre><code>npm install -g castoro
</code></pre>

<p>or roll one yourself from this repo</p>

<pre><code>npm install -g coffee-script
cd [this repo]
npm run-script prepublish
npm install -g
</code></pre>

<h3>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h3>

<p>Command line usage goes like this</p>

<pre><code>  castoro \
    --mode [original|stream-transcode|transcode] \
    --input [path/to/file.mkv]
</code></pre>

<p>Optional arguments</p>

<pre><code>    --ip [ip of your machine]
    --port [http port to use]
    --cli-controller #Â enables cli controller
</code></pre>

<h4>
<a id="modes-explained" class="anchor" href="#modes-explained" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mode(s) explained</h4>

<ul>
<li>
<strong>original</strong>: The tool will stream un-modified input file using HTTP. Since chromecast is
picky about formats (expecially audio ones) the file must be properly encoded.</li>
<li>
<strong>stream-transcode</strong> (default): The tool will live transcode the input file to fit chromecast audio capabilities
using ffmpeg. Seeking is supported in this case, but slower.</li>
<li>
<strong>transcode</strong>: The tool will

<ol>
<li>start to cast the input media to the chromecast using stream-transcode mode
(slower seeking)</li>
<li>start a transcoding process converts the entire input media</li>
<li>as soon as the transcoding (2) is finished it will switch playback to the
trascoded file (faster seeking)</li>
</ol>
</li>
</ul>

<h3>
<a id="cli-controller" class="anchor" href="#cli-controller" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cli controller</h3>

<p>If you enable the cli controller you can use keys to control playback/volume
right from the console</p>

<ul>
<li>Up: Volume up</li>
<li>Down: Volume down</li>
<li>Left: RR (10 min)</li>
<li>Shift+Left: RR (1 min)</li>
<li>Right: FF (10 min)</li>
<li>Shift+Right: FF (1 min)</li>
<li>Space: Pause/Unpause</li>
<li>key "s": Print player status</li>
<li>key "q": Quit</li>
</ul>

<h3>
<a id="ui-controller-experimental" class="anchor" href="#ui-controller-experimental" aria-hidden="true"><span class="octicon octicon-link"></span></a>UI Controller (Experimental)</h3>

<p>Experimental UI allows drag-dropping video files and control playback as a
desktop application. See screenshots</p>

<p><img src="https://raw.githubusercontent.com/davibe/castoro/master/images/ui01.PNG" alt=""></p>

<p>Current status of UI support is</p>

<ul>
<li>still very experimental</li>
<li>using <a href="http://electron.atom.io">electron.atom.io</a>
</li>
<li>tested on Mac OSX</li>
</ul>

<p>To test it you can clone this repo and then use</p>

<pre><code>npm run-script prepublish; electron .
</code></pre>

<h2>
<a id="ffmpeg-dependency" class="anchor" href="#ffmpeg-dependency" aria-hidden="true"><span class="octicon octicon-link"></span></a>FFMPEG dependency</h2>

<p>This tool uses FFMpeg. FFMpeg must be installed on the system. I run it on OSX
where I installed ffmpeg using Homebrew like this</p>

<pre><code>brew install ffmpeg --with-faac --with-fdk-aac
</code></pre>

<p>Bundled distributions of the application also include ffmpeg binaries.</p>

<h2>
<a id="todos" class="anchor" href="#todos" aria-hidden="true"><span class="octicon octicon-link"></span></a>Todos</h2>

<p>Pull requests are welcome</p>

<ul>
<li>Transcode video when needed (currently we just transcode audio)</li>
<li>Properly report errors</li>
<li>Automatically pick an available port</li>
<li>Support multiple chromecasts in the same network</li>
<li>Distrubuted bundled application with UI and possibly ffmpeg binaries</li>
</ul>

<p><img src="https://raw.githubusercontent.com/davibe/castoro/master/images/castoro.png" alt=""></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/davibe/castoro">Castoro</a> is maintained by <a href="https://github.com/davibe">davibe</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-63014540-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>

